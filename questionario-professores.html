<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionário para Professores - TEA</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #28a745;
            --secondary-color: #20c997;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
        }
        
        .form-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin: 2rem auto;
            max-width: 800px;
        }
        
        .form-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem;
            border-radius: 15px 15px 0 0;
            text-align: center;
        }
        
        .form-body {
            padding: 2rem;
        }
        
        .question-group {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid var(--primary-color);
        }
        
        .question-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1rem;
        }
        
        .form-check {
            margin-bottom: 0.75rem;
        }
        
        .form-check-input:checked {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .form-control:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
        }
        
        .btn-submit {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            padding: 1rem 3rem;
            border-radius: 50px;
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }
        
        .nav-links {
            text-align: center;
            margin: 2rem 0;
        }
        
        .nav-links a {
            color: var(--primary-color);
            text-decoration: none;
            margin: 0 1rem;
            font-weight: 500;
        }
        
        .nav-links a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-links">
            <a href="questionario-professores.html"><i class="fas fa-chalkboard-teacher"></i> Professores</a>
            <a href="questionario-profissionais.html"><i class="fas fa-user-md"></i> Profissionais da Saúde</a>
        </div>
        
        <div class="form-container">
            <div class="form-header">
                <h1><i class="fas fa-chalkboard-teacher me-3"></i>Questionário para Professores</h1>
                <p class="mb-0">Pesquisa sobre TEA e Desenvolvimento da Comunicação</p>
            </div>
            
            <div class="form-body">
                <form id="professorForm">
                    <div class="question-group">
                        <div class="question-title">1. Você já trabalhou com crianças com Transtorno do Espectro Autista (TEA) na sua sala de aula?</div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q1" id="q1_sim" value="sim" required>
                            <label class="form-check-label" for="q1_sim">Sim</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q1" id="q1_nao" value="nao">
                            <label class="form-check-label" for="q1_nao">Não</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <div class="question-title">2. Atualmente, há crianças com TEA na sua turma?</div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="q2_sim_terapia" value="sim_terapia" required>
                            <label class="form-check-label" for="q2_sim_terapia">Sim, que fazem terapia</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="q2_sim_nao_terapia" value="sim_nao_terapia">
                            <label class="form-check-label" for="q2_sim_nao_terapia">Sim, que não fazem terapia</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="q2_ambos" value="ambos">
                            <label class="form-check-label" for="q2_ambos">Sim, de ambos os tipos</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q2" id="q2_nao" value="nao">
                            <label class="form-check-label" for="q2_nao">Não</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <div class="question-title">3. Em sua percepção, como é a comunicação das crianças com TEA que fazem terapia?</div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q3" id="q3_muito_boa" value="muito_boa" required>
                            <label class="form-check-label" for="q3_muito_boa">Muito boa</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q3" id="q3_boa" value="boa">
                            <label class="form-check-label" for="q3_boa">Boa</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q3" id="q3_regular" value="regular">
                            <label class="form-check-label" for="q3_regular">Regular</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q3" id="q3_ruim" value="ruim">
                            <label class="form-check-label" for="q3_ruim">Ruim</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q3" id="q3_nao_sei" value="nao_sei">
                            <label class="form-check-label" for="q3_nao_sei">Não sei dizer</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <div class="question-title">4. E como é a comunicação das crianças com TEA que não fazem terapia?</div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q4" id="q4_muito_boa" value="muito_boa" required>
                            <label class="form-check-label" for="q4_muito_boa">Muito boa</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q4" id="q4_boa" value="boa">
                            <label class="form-check-label" for="q4_boa">Boa</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q4" id="q4_regular" value="regular">
                            <label class="form-check-label" for="q4_regular">Regular</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q4" id="q4_ruim" value="ruim">
                            <label class="form-check-label" for="q4_ruim">Ruim</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q4" id="q4_nao_sei" value="nao_sei">
                            <label class="form-check-label" for="q4_nao_sei">Não sei dizer</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <div class="question-title">5. Você observa alguma diferença no desenvolvimento da comunicação verbal e não verbal entre crianças com TEA que fazem e que não fazem terapia?</div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q5" id="q5_sim" value="sim" required>
                            <label class="form-check-label" for="q5_sim">Sim</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q5" id="q5_nao" value="nao">
                            <label class="form-check-label" for="q5_nao">Não</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <div class="question-title">6. Se sim, qual?</div>
                        <textarea class="form-control" name="q6" rows="3" placeholder="Descreva as diferenças observadas..."></textarea>
                    </div>

                    <div class="question-group">
                        <div class="question-title">7. Com que frequência você observa avanços na comunicação das crianças com TEA que fazem terapia?</div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q7" id="q7_frequentemente" value="frequentemente" required>
                            <label class="form-check-label" for="q7_frequentemente">Frequentemente</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q7" id="q7_as_vezes" value="as_vezes">
                            <label class="form-check-label" for="q7_as_vezes">Às vezes</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q7" id="q7_raramente" value="raramente">
                            <label class="form-check-label" for="q7_raramente">Raramente</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q7" id="q7_nunca" value="nunca">
                            <label class="form-check-label" for="q7_nunca">Nunca</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q7" id="q7_nao_consigo" value="nao_consigo">
                            <label class="form-check-label" for="q7_nao_consigo">Não consigo avaliar</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <div class="question-title">8. Em sua opinião, quais terapias mais contribuem para o desenvolvimento da comunicação das crianças com TEA?</div>
                        <textarea class="form-control" name="q8" rows="3" placeholder="Descreva as terapias que considera mais eficazes..."></textarea>
                    </div>

                    <div class="question-group">
                        <div class="question-title">9. Que estratégias você utiliza para estimular a comunicação dessas crianças em sala de aula?</div>
                        <textarea class="form-control" name="q9" rows="3" placeholder="Descreva as estratégias utilizadas..."></textarea>
                    </div>

                    <div class="question-group">
                        <div class="question-title">10. Quais são as maiores dificuldades enfrentadas no processo de comunicação com crianças com TEA que não fazem terapia?</div>
                        <textarea class="form-control" name="q10" rows="3" placeholder="Descreva as principais dificuldades..."></textarea>
                    </div>

                    <div class="question-group">
                        <div class="question-title">11. Você já teve algum tipo de formação ou capacitação sobre como lidar com a comunicação de crianças com TEA?</div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q11" id="q11_sim" value="sim" required>
                            <label class="form-check-label" for="q11_sim">Sim</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="q11" id="q11_nao" value="nao">
                            <label class="form-check-label" for="q11_nao">Não</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <div class="question-title">12. Se sim, qual?</div>
                        <textarea class="form-control" name="q12" rows="3" placeholder="Descreva a formação ou capacitação..."></textarea>
                    </div>

                    <div class="text-center mt-4">
                        <button type="submit" class="btn btn-submit">
                            <i class="fas fa-paper-plane me-2"></i>
                            Enviar Questionário
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Firebase SDK -->
    <script type="module">
        // Importar o essencial do nosso arquivo de inicialização
        import { db } from './firebase-init.js';
        import { collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

        // Lógica de envio do formulário para o Firebase
        const form = document.getElementById('professorForm');
        form.addEventListener('submit', async function(e) {
            e.preventDefault();

            const submitButton = form.querySelector('button[type="submit"]');
            const originalButtonText = submitButton.innerHTML;

            // Desabilitar botão e mostrar feedback visual
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Enviando...';

            try {
                // Coletar dados do formulário
                const formData = new FormData(form);
                const data = {};
                for (let [key, value] of formData.entries()) {
                    data[key] = value;
                }

                // Adicionar timestamp do servidor
                data.timestamp = serverTimestamp();

                // Enviar para o Firestore
                const docRef = await addDoc(collection(db, "respostas-professores"), data);
                
                console.log("Document written with ID: ", docRef.id);
                alert('Questionário enviado com sucesso! Obrigado pela sua participação.');
                form.reset();

            } catch (error) {
                console.error("Erro ao adicionar documento: ", error);
                alert('Ocorreu um erro ao enviar o questionário. Por favor, tente novamente.');
            } finally {
                // Reabilitar botão
                submitButton.disabled = false;
                submitButton.innerHTML = originalButtonText;
            }
        });
    </script>
</body>
</html>
